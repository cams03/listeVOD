<!DOCTYPE html>
<html ng-app="MovieStore">

<head>
	<title>Votre vidéo-club en ligne</title>
	<link rel="stylesheet" href="bootstrap/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<nav class="nav navbar navbar-inverse">
		<div class="container">
			<button type="button" data-toggle="modal" href="#basket" class="btn btn-default btn-warning btn-lg navbar-right basket">
  			<span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>Panier <span id="nbProducts"></span>
			</button>
		</div>
		<div class="modal" id="basket" ng-controller="basketController">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">x</button>
						<h4 class="modal-title">Votre panier</h4>
					</div>
					<div class="modal-body">
					<div class="list-group-item" ng-repeat="product in baskets">
						<h3>{{product.Title}}<span class="badge badge-pill">{{product.Type}}</span><button class="btn pull-right" ng-click="removeProduct(product)"><span class="glyphicon glyphicon-trash"></span></button></h3>
					</div>
						<button class="btn btn-warning" id="total">{{total}}</button>
					</div>
				</div>
			</div>
		</div>
	</nav>
	<div class="jumbotron">
	<h1 class="text-center">Bienvenue sur votre vidéo club en ligne</h1>
	<h3 class="text-center">Tous les films et séries à 3€ seulement !</h3>
	</div>
	<div ng-controller="storeController">
		<div class="list-group">
			<div class="list-group-item col-lg-4" ng-repeat="product in products">
				<h3>{{product.Title}} ({{product.Year}}) <span class="badge badge-pill">{{product.Type}}</span></h3>
				<img ng-src="{{product.Poster}}" alt="poster">
				<section class="tab" ng-controller="panelController">
					<ul class="nav nav-pills">
						<li ng-class="{active:isSelected(1)}">
							<a href ng-click="selectTab(1)">Synopsis</a></li>
						<li ng-class="{active: isSelected(2)}">
							<a href ng-click="selectTab(2)">Fiche technique</a></li>
					</ul>
					<div class="panel" ng-show="isSelected(1)">
						<p>{{product.Plot}}</p>
					</div>
					<div class="panel" ng-show="isSelected(2)">
						<p class="info"><span>Durée:</span> {{product.Runtime}}</p>
						<p class="info"><span>Genre:</span> {{product.Genre}}</p>
						<p class="info"><span>Réalisateur:</span> {{product.Director}}</p>
						<p class="info"><span>Acteurs:</span> {{product.Actors}}</p>
					</div>
				</section>
				<button type="submit" name="button" class="btn btn-info add-basket" ng-click="add(product)"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>Ajouter au panier</button>
			</div>

		</div>

	</div>







	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="bootstrap/js/bootstrap.js"></script>
	<script type="text/javascript" src="app.js"></script>
</body>

</html>
